<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Demonstração Doxygen: Referência do Arquivo bin/utils/BMP280/bmp2.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="cnpemlogo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Demonstração Doxygen<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Exemplo de documentação do Doxygen em</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Busca');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Carregando...</div>
<div class="SRStatus" id="Searching">Procurando...</div>
<div class="SRStatus" id="NoMatches">Nenhuma entrada encontrado</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2ea30aa2956a8db99dd22aa5e597f384.html">bin</a></li><li class="navelem"><a class="el" href="dir_31508e67cfab82fa49e0b7413e3fb991.html">utils</a></li><li class="navelem"><a class="el" href="dir_c8d347ac537bd2b9c67c89e961238a1c.html">BMP280</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Funções</a>  </div>
  <div class="headertitle"><div class="title">Referência do Arquivo bmp2.h</div></div>
</div><!--header-->
<div class="contents">

<p>Sensor driver for BMP2 sensor.  
<a href="#details">Mais...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="bmp2__defs_8h_source.html">bmp2_defs.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Gráfico de dependência de inclusões para bmp2.h:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h__incl.png" border="0" usemap="#abin_2utils_2_b_m_p280_2bmp2_8h" alt=""/></div>
<map name="abin_2utils_2_b_m_p280_2bmp2_8h" id="abin_2utils_2_b_m_p280_2bmp2_8h">
<area shape="rect" title="Sensor driver for BMP2 sensor." alt="" coords="5,5,173,32"/>
<area shape="rect" href="bmp2__defs_8h.html" title="Sensor driver for BMP2 sensor." alt="" coords="41,80,137,107"/>
<area shape="poly" title=" " alt="" coords="92,33,92,64,86,64,86,33"/>
<area shape="rect" title=" " alt="" coords="11,155,79,181"/>
<area shape="poly" title=" " alt="" coords="84,109,63,143,58,140,79,106"/>
<area shape="rect" title=" " alt="" coords="102,155,167,181"/>
<area shape="poly" title=" " alt="" coords="99,106,121,140,116,143,95,109"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
Este grafo mostra quais arquivos estão direta ou indiretamente relacionados com esse arquivo:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h__dep__incl.png" border="0" usemap="#abin_2utils_2_b_m_p280_2bmp2_8hdep" alt=""/></div>
<map name="abin_2utils_2_b_m_p280_2bmp2_8hdep" id="abin_2utils_2_b_m_p280_2bmp2_8hdep">
<area shape="rect" title="Sensor driver for BMP2 sensor." alt="" coords="103,5,270,32"/>
<area shape="rect" href="bmp2_8c.html" title="Sensor driver for BMP2 sensor." alt="" coords="5,88,173,115"/>
<area shape="poly" title=" " alt="" coords="161,44,105,90,102,86,158,40"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8h.html" title=" " alt="" coords="197,80,371,123"/>
<area shape="poly" title=" " alt="" coords="215,40,260,77,257,82,211,44"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html" title=" " alt="" coords="197,171,371,213"/>
<area shape="poly" title=" " alt="" coords="286,138,286,170,281,170,281,138"/>
</map>
</div>
</div>
<p><a href="bmp2_8h_source.html">Ir para o código-fonte desse arquivo.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Funções</h2></td></tr>
<tr class="memitem:a6d7f2b136c16014c6564a78e24507c81" id="r_a6d7f2b136c16014c6564a78e24507c81"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d7f2b136c16014c6564a78e24507c81">bmp2_init</a> (struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a6d7f2b136c16014c6564a78e24507c81"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API is the entry point. It reads the chip-id and calibration data from the sensor.  <br /></td></tr>
<tr class="separator:a6d7f2b136c16014c6564a78e24507c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a79faabbc906ff3a27f62bf018c93a6" id="r_a6a79faabbc906ff3a27f62bf018c93a6"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a> (uint8_t reg_addr, uint8_t *reg_data, uint32_t len, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a6a79faabbc906ff3a27f62bf018c93a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the data from the given register address of the sensor.  <br /></td></tr>
<tr class="separator:a6a79faabbc906ff3a27f62bf018c93a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef548c2009f0c29393974818a31bdc13" id="r_aef548c2009f0c29393974818a31bdc13"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef548c2009f0c29393974818a31bdc13">bmp2_set_regs</a> (uint8_t *reg_addr, const uint8_t *reg_data, uint32_t len, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:aef548c2009f0c29393974818a31bdc13"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API writes the given data to the register addresses of the sensor.  <br /></td></tr>
<tr class="separator:aef548c2009f0c29393974818a31bdc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b46067751d5b85c9003d934540aff3" id="r_a32b46067751d5b85c9003d934540aff3"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32b46067751d5b85c9003d934540aff3">bmp2_soft_reset</a> (struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a32b46067751d5b85c9003d934540aff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API triggers the soft-reset of the sensor.  <br /></td></tr>
<tr class="separator:a32b46067751d5b85c9003d934540aff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe41fceea8a9ab4f6e42cecc4aaf1012" id="r_afe41fceea8a9ab4f6e42cecc4aaf1012"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe41fceea8a9ab4f6e42cecc4aaf1012">bmp2_get_power_mode</a> (uint8_t *mode, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:afe41fceea8a9ab4f6e42cecc4aaf1012"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the power mode.  <br /></td></tr>
<tr class="separator:afe41fceea8a9ab4f6e42cecc4aaf1012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e04b1769da340a54f01747f003a9e8a" id="r_a2e04b1769da340a54f01747f003a9e8a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e04b1769da340a54f01747f003a9e8a">bmp2_set_power_mode</a> (uint8_t mode, const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *conf, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a2e04b1769da340a54f01747f003a9e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API writes the power mode.  <br /></td></tr>
<tr class="separator:a2e04b1769da340a54f01747f003a9e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73193f9bbf43c9382387ee2f015ec249" id="r_a73193f9bbf43c9382387ee2f015ec249"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a73193f9bbf43c9382387ee2f015ec249">bmp2_get_config</a> (struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *conf, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a73193f9bbf43c9382387ee2f015ec249"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the data from the ctrl_meas register and config register. It gives the currently set temperature and pressure over-sampling configuration, power mode configuration, sleep duration and IIR filter coefficient.  <br /></td></tr>
<tr class="separator:a73193f9bbf43c9382387ee2f015ec249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410c83987393aa02d637aaef7c0e9f04" id="r_a410c83987393aa02d637aaef7c0e9f04"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a410c83987393aa02d637aaef7c0e9f04">bmp2_set_config</a> (const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *conf, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:a410c83987393aa02d637aaef7c0e9f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API writes the data to the ctrl_meas register and config register. It sets the over-sampling mode, power mode configuration, sleep duration and IIR filter coefficient.  <br /></td></tr>
<tr class="separator:a410c83987393aa02d637aaef7c0e9f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63ef55fdf01fdcaa8fffebbc6976b7a" id="r_ad63ef55fdf01fdcaa8fffebbc6976b7a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad63ef55fdf01fdcaa8fffebbc6976b7a">bmp2_get_status</a> (struct <a class="el" href="structbmp2__status.html">bmp2_status</a> *status, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:ad63ef55fdf01fdcaa8fffebbc6976b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the status register.  <br /></td></tr>
<tr class="separator:ad63ef55fdf01fdcaa8fffebbc6976b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d2b6da40da3fa026f1bbb35fc03af8" id="r_ae2d2b6da40da3fa026f1bbb35fc03af8"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2d2b6da40da3fa026f1bbb35fc03af8">bmp2_get_sensor_data</a> (struct <a class="el" href="structbmp2__data.html">bmp2_data</a> *comp_data, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:ae2d2b6da40da3fa026f1bbb35fc03af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API reads the pressure and temperature data from the sensor, compensates the data and store it in the <a class="el" href="structbmp2__data.html" title="bmp2 sensor structure which comprises of temperature and pressure">bmp2_data</a> structure instance passed by the user.  <br /></td></tr>
<tr class="separator:ae2d2b6da40da3fa026f1bbb35fc03af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a148cc2a4a3d802ad43c969aa6d058" id="r_aa0a148cc2a4a3d802ad43c969aa6d058"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0a148cc2a4a3d802ad43c969aa6d058">bmp2_compensate_data</a> (const struct <a class="el" href="structbmp2__uncomp__data.html">bmp2_uncomp_data</a> *uncomp_data, struct <a class="el" href="structbmp2__data.html">bmp2_data</a> *comp_data, struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:aa0a148cc2a4a3d802ad43c969aa6d058"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API is used to compensate the pressure and temperature data.  <br /></td></tr>
<tr class="separator:aa0a148cc2a4a3d802ad43c969aa6d058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ad7ceb7911eadfeca3b1fac9e050c1" id="r_ad5ad7ceb7911eadfeca3b1fac9e050c1"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5ad7ceb7911eadfeca3b1fac9e050c1">bmp2_compute_meas_time</a> (uint32_t *sampling_time, const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *conf, const struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *dev)</td></tr>
<tr class="memdesc:ad5ad7ceb7911eadfeca3b1fac9e050c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This API computes the measurement time in microseconds for the active configuration based on standbytime(conf-&gt;odr) and over-sampling mode(conf-&gt;os_mode)  <br /></td></tr>
<tr class="separator:ad5ad7ceb7911eadfeca3b1fac9e050c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição detalhada</h2>
<div class="textblock"><p>Sensor driver for BMP2 sensor. </p>
<p>Copyright (c) 2021 Bosch Sensortec GmbH. All rights reserved.</p>
<p>BSD-3-Clause</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR <a class="el" href="class_a.html">A</a> PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<dl class="section date"><dt>Data</dt><dd>2021-05-21 </dd></dl>
<dl class="section version"><dt>Versão</dt><dd>v1.0.1</dd></dl>

<p class="definition">Definição no arquivo <a class="el" href="bmp2_8h_source.html">bmp2.h</a>.</p>
</div><h2 class="groupheader">Funções</h2>
<a id="aa0a148cc2a4a3d802ad43c969aa6d058" name="aa0a148cc2a4a3d802ad43c969aa6d058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a148cc2a4a3d802ad43c969aa6d058">&#9670;&#160;</a></span>bmp2_compensate_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_compensate_data </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp2__uncomp__data.html">bmp2_uncomp_data</a> *</td>          <td class="paramname"><span class="paramname"><em>uncomp_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__data.html">bmp2_data</a> *</td>          <td class="paramname"><span class="paramname"><em>comp_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API is used to compensate the pressure and temperature data. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00473">473</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  475</span>                                                  {</div>
<div class="line"><span class="lineno">  476</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>  rslt = null_ptr_check(dev);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) &amp;&amp; (uncomp_data != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (comp_data != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">/* Initialize to zero */</span></div>
<div class="line"><span class="lineno">  482</span>    comp_data-&gt;<a class="code hl_variable" href="structbmp2__data.html#ab4b11c8d9c758430960896bc3fe82ead">temperature</a> = 0;</div>
<div class="line"><span class="lineno">  483</span>    comp_data-&gt;<a class="code hl_variable" href="structbmp2__data.html#aee1c5d07ac79c5c036195858afe33405">pressure</a> = 0;</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span>    rslt = compensate_temperature(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp2__data.html#ab4b11c8d9c758430960896bc3fe82ead">temperature</a>, uncomp_data, dev);</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  488</span>      rslt = compensate_pressure(&amp;comp_data-&gt;<a class="code hl_variable" href="structbmp2__data.html#aee1c5d07ac79c5c036195858afe33405">pressure</a>, uncomp_data, dev);</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  491</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  492</span>  }</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  495</span>}</div>
<div class="ttc" id="abme2__defs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definição</b> <a href="bme2__defs_8h_source.html#l00082">bme2_defs.h:82</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a3a5360bdbcc875416df344adc9743403"><div class="ttname"><a href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a></div><div class="ttdeci">#define BMP2_E_NULL_PTR</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00123">bmp2_defs.h:123</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_af6d26f836d5010516682b14bac55f8c3"><div class="ttname"><a href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a></div><div class="ttdeci">#define BMP2_OK</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00120">bmp2_defs.h:120</a></div></div>
<div class="ttc" id="astructbmp2__data_html_ab4b11c8d9c758430960896bc3fe82ead"><div class="ttname"><a href="structbmp2__data.html#ab4b11c8d9c758430960896bc3fe82ead">bmp2_data::temperature</a></div><div class="ttdeci">double temperature</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00548">bmp2_defs.h:548</a></div></div>
<div class="ttc" id="astructbmp2__data_html_aee1c5d07ac79c5c036195858afe33405"><div class="ttname"><a href="structbmp2__data.html#aee1c5d07ac79c5c036195858afe33405">bmp2_data::pressure</a></div><div class="ttdeci">double pressure</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00545">bmp2_defs.h:545</a></div></div>
</div><!-- fragment --><div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_aa0a148cc2a4a3d802ad43c969aa6d058_icgraph.png" border="0" usemap="#abmp2_8h_aa0a148cc2a4a3d802ad43c969aa6d058_icgraph" alt=""/></div>
<map name="abmp2_8h_aa0a148cc2a4a3d802ad43c969aa6d058_icgraph" id="abmp2_8h_aa0a148cc2a4a3d802ad43c969aa6d058_icgraph">
<area shape="rect" title="This API is used to compensate the pressure and temperature data." alt="" coords="336,5,499,32"/>
<area shape="rect" href="bmp2_8c.html#ae2d2b6da40da3fa026f1bbb35fc03af8" title="This API reads the pressure and temperature data from the sensor, compensates the data and store it i..." alt="" coords="132,5,288,32"/>
<area shape="poly" title=" " alt="" coords="321,21,288,21,288,16,321,16"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#a9e90f5cde057a32a982156e59815475a" title="Reads temperature/pressure data." alt="" coords="5,5,84,32"/>
<area shape="poly" title=" " alt="" coords="116,21,84,21,84,16,116,16"/>
</map>
</div>

</div>
</div>
<a id="ad5ad7ceb7911eadfeca3b1fac9e050c1" name="ad5ad7ceb7911eadfeca3b1fac9e050c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ad7ceb7911eadfeca3b1fac9e050c1">&#9670;&#160;</a></span>bmp2_compute_meas_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_compute_meas_time </td>
          <td>(</td>
          <td class="paramtype">uint32_t *</td>          <td class="paramname"><span class="paramname"><em>sampling_time</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *</td>          <td class="paramname"><span class="paramname"><em>conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API computes the measurement time in microseconds for the active configuration based on standbytime(conf-&gt;odr) and over-sampling mode(conf-&gt;os_mode) </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00502">502</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  504</span>                                                          {</div>
<div class="line"><span class="lineno">  505</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>  <span class="comment">/* Array contains measurement time in microseconds */</span></div>
<div class="line"><span class="lineno">  508</span>  uint32_t measurement_time[] = {5500, 7500, 11500, 19500, 37500};</div>
<div class="line"><span class="lineno">  509</span>  uint32_t standby_time[] = {500, 62500, 125000, 250000, 500000, 1000000, 2000000, 4000000};</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  rslt = null_ptr_check(dev);</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>  <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) &amp;&amp; (conf != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a5d7bfe9503c1c86a8a5d245129749b07">power_mode</a> == <a class="code hl_define" href="bmp2__defs_8h.html#ad1b9cd52c7e565246200058bd60a434d">BMP2_POWERMODE_NORMAL</a>) {</div>
<div class="line"><span class="lineno">  515</span>      <span class="comment">/* Time in microseconds */</span></div>
<div class="line"><span class="lineno">  516</span>      (*sampling_time) = measurement_time[conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#af7720fa6ad1d7616c9e836ec3675df90">os_mode</a>] + standby_time[conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#ad4f635412a17ad23a5906d7cf246bce3">odr</a>];</div>
<div class="line"><span class="lineno">  517</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  518</span>      <span class="comment">/* Time in microseconds */</span></div>
<div class="line"><span class="lineno">  519</span>      (*sampling_time) = measurement_time[conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#af7720fa6ad1d7616c9e836ec3675df90">os_mode</a>];</div>
<div class="line"><span class="lineno">  520</span>    }</div>
<div class="line"><span class="lineno">  521</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  522</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  523</span>  }</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  526</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_ad1b9cd52c7e565246200058bd60a434d"><div class="ttname"><a href="bmp2__defs_8h.html#ad1b9cd52c7e565246200058bd60a434d">BMP2_POWERMODE_NORMAL</a></div><div class="ttdeci">#define BMP2_POWERMODE_NORMAL</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00193">bmp2_defs.h:193</a></div></div>
<div class="ttc" id="astructbmp2__config_html_ad4f635412a17ad23a5906d7cf246bce3"><div class="ttname"><a href="structbmp2__config.html#ad4f635412a17ad23a5906d7cf246bce3">bmp2_config::odr</a></div><div class="ttdeci">uint8_t odr</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00505">bmp2_defs.h:505</a></div></div>
<div class="ttc" id="astructbmp2__config_html_af7720fa6ad1d7616c9e836ec3675df90"><div class="ttname"><a href="structbmp2__config.html#af7720fa6ad1d7616c9e836ec3675df90">bmp2_config::os_mode</a></div><div class="ttdeci">uint8_t os_mode</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00508">bmp2_defs.h:508</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a5d7bfe9503c1c86a8a5d245129749b07"><div class="ttname"><a href="structbmp2__dev.html#a5d7bfe9503c1c86a8a5d245129749b07">bmp2_dev::power_mode</a></div><div class="ttdeci">uint8_t power_mode</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00591">bmp2_defs.h:591</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73193f9bbf43c9382387ee2f015ec249" name="a73193f9bbf43c9382387ee2f015ec249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73193f9bbf43c9382387ee2f015ec249">&#9670;&#160;</a></span>bmp2_get_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_get_config </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *</td>          <td class="paramname"><span class="paramname"><em>conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the data from the ctrl_meas register and config register. It gives the currently set temperature and pressure over-sampling configuration, power mode configuration, sleep duration and IIR filter coefficient. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00357">357</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  357</span>                                                                       {</div>
<div class="line"><span class="lineno">  358</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  359</span>  uint8_t temp[2] = {0, 0};</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>  <span class="keywordflow">if</span> (conf != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  362</span>    rslt = <a class="code hl_function" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a>(<a class="code hl_define" href="bmp2__defs_8h.html#a7bd31258b3af4a162b892192bf1c2c91">BMP2_REG_CTRL_MEAS</a>, temp, 2, dev);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  365</span>      conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#a83ac2b084c3e4162a70482ddf3f73a13">os_temp</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a>(temp[0], BMP2_OS_TEMP);</div>
<div class="line"><span class="lineno">  366</span>      conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#ad4d1e27669b8d9bbfce53c8eae258b27">os_pres</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a>(temp[0], BMP2_OS_PRES);</div>
<div class="line"><span class="lineno">  367</span>      conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#ad4f635412a17ad23a5906d7cf246bce3">odr</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a>(temp[1], BMP2_STANDBY_DURN);</div>
<div class="line"><span class="lineno">  368</span>      conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#aa69d890d38e8a1abafc8697d1760bb04">filter</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a>(temp[1], BMP2_FILTER);</div>
<div class="line"><span class="lineno">  369</span>      conf-&gt;<a class="code hl_variable" href="structbmp2__config.html#acfbe9b3d2e228d4c3007df78c0dc091a">spi3w_en</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a67f98d13bf08de0024189766d758bb8a">BMP2_GET_BITS_POS_0</a>(temp[1], BMP2_SPI3_ENABLE);</div>
<div class="line"><span class="lineno">  370</span>    }</div>
<div class="line"><span class="lineno">  371</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  372</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  373</span>  }</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  376</span>}</div>
<div class="ttc" id="abmp2_8c_html_a6a79faabbc906ff3a27f62bf018c93a6"><div class="ttname"><a href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a></div><div class="ttdeci">int8_t bmp2_get_regs(uint8_t reg_addr, uint8_t *reg_data, uint32_t len, struct bmp2_dev *dev)</div><div class="ttdoc">This API reads the data from the given register address of the sensor.</div><div class="ttdef"><b>Definição</b> <a href="bmp2_8c_source.html#l00256">bmp2.c:256</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a2bd98c12ad5c99b51859e6f71261b950"><div class="ttname"><a href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a></div><div class="ttdeci">#define BMP2_GET_BITS(reg_data, bitname)</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00363">bmp2_defs.h:363</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a67f98d13bf08de0024189766d758bb8a"><div class="ttname"><a href="bmp2__defs_8h.html#a67f98d13bf08de0024189766d758bb8a">BMP2_GET_BITS_POS_0</a></div><div class="ttdeci">#define BMP2_GET_BITS_POS_0(reg_data, bitname)</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00368">bmp2_defs.h:368</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a7bd31258b3af4a162b892192bf1c2c91"><div class="ttname"><a href="bmp2__defs_8h.html#a7bd31258b3af4a162b892192bf1c2c91">BMP2_REG_CTRL_MEAS</a></div><div class="ttdeci">#define BMP2_REG_CTRL_MEAS</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00148">bmp2_defs.h:148</a></div></div>
<div class="ttc" id="astructbmp2__config_html_a83ac2b084c3e4162a70482ddf3f73a13"><div class="ttname"><a href="structbmp2__config.html#a83ac2b084c3e4162a70482ddf3f73a13">bmp2_config::os_temp</a></div><div class="ttdeci">uint8_t os_temp</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00499">bmp2_defs.h:499</a></div></div>
<div class="ttc" id="astructbmp2__config_html_aa69d890d38e8a1abafc8697d1760bb04"><div class="ttname"><a href="structbmp2__config.html#aa69d890d38e8a1abafc8697d1760bb04">bmp2_config::filter</a></div><div class="ttdeci">uint8_t filter</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00511">bmp2_defs.h:511</a></div></div>
<div class="ttc" id="astructbmp2__config_html_acfbe9b3d2e228d4c3007df78c0dc091a"><div class="ttname"><a href="structbmp2__config.html#acfbe9b3d2e228d4c3007df78c0dc091a">bmp2_config::spi3w_en</a></div><div class="ttdeci">uint8_t spi3w_en</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00514">bmp2_defs.h:514</a></div></div>
<div class="ttc" id="astructbmp2__config_html_ad4d1e27669b8d9bbfce53c8eae258b27"><div class="ttname"><a href="structbmp2__config.html#ad4d1e27669b8d9bbfce53c8eae258b27">bmp2_config::os_pres</a></div><div class="ttdeci">uint8_t os_pres</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00502">bmp2_defs.h:502</a></div></div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a73193f9bbf43c9382387ee2f015ec249_cgraph.png" border="0" usemap="#abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_cgraph" alt=""/></div>
<map name="abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_cgraph" id="abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_cgraph">
<area shape="rect" title="This API reads the data from the ctrl_meas register and config register. It gives the currently set t..." alt="" coords="5,5,125,32"/>
<area shape="rect" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6" title="This API reads the data from the given register address of the sensor." alt="" coords="173,5,283,32"/>
<area shape="poly" title=" " alt="" coords="125,16,157,16,157,21,125,21"/>
</map>
</div>
<div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a73193f9bbf43c9382387ee2f015ec249_icgraph.png" border="0" usemap="#abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_icgraph" alt=""/></div>
<map name="abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_icgraph" id="abmp2_8h_a73193f9bbf43c9382387ee2f015ec249_icgraph">
<area shape="rect" title="This API reads the data from the ctrl_meas register and config register. It gives the currently set t..." alt="" coords="124,5,243,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#ad8891d2db76c9957ba85df5220de463a" title="Initializes and configures sensor." alt="" coords="5,5,76,32"/>
<area shape="poly" title=" " alt="" coords="108,21,76,21,76,16,108,16"/>
</map>
</div>

</div>
</div>
<a id="afe41fceea8a9ab4f6e42cecc4aaf1012" name="afe41fceea8a9ab4f6e42cecc4aaf1012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe41fceea8a9ab4f6e42cecc4aaf1012">&#9670;&#160;</a></span>bmp2_get_power_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_get_power_mode </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>mode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the power mode. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00411">411</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  411</span>                                                                {</div>
<div class="line"><span class="lineno">  412</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  413</span>  uint8_t temp;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>  <span class="keywordflow">if</span> (mode != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  416</span>    rslt = <a class="code hl_function" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a>(<a class="code hl_define" href="bmp2__defs_8h.html#a7bd31258b3af4a162b892192bf1c2c91">BMP2_REG_CTRL_MEAS</a>, &amp;temp, 1, dev);</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    *mode = <a class="code hl_define" href="bmp2__defs_8h.html#a67f98d13bf08de0024189766d758bb8a">BMP2_GET_BITS_POS_0</a>(temp, BMP2_POWERMODE);</div>
<div class="line"><span class="lineno">  419</span>    dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a5d7bfe9503c1c86a8a5d245129749b07">power_mode</a> = *mode;</div>
<div class="line"><span class="lineno">  420</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  421</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  422</span>  }</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  425</span>}</div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_afe41fceea8a9ab4f6e42cecc4aaf1012_cgraph.png" border="0" usemap="#abmp2_8h_afe41fceea8a9ab4f6e42cecc4aaf1012_cgraph" alt=""/></div>
<map name="abmp2_8h_afe41fceea8a9ab4f6e42cecc4aaf1012_cgraph" id="abmp2_8h_afe41fceea8a9ab4f6e42cecc4aaf1012_cgraph">
<area shape="rect" title="This API reads the power mode." alt="" coords="5,5,164,32"/>
<area shape="rect" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6" title="This API reads the data from the given register address of the sensor." alt="" coords="212,5,322,32"/>
<area shape="poly" title=" " alt="" coords="164,16,196,16,196,21,164,21"/>
</map>
</div>

</div>
</div>
<a id="a6a79faabbc906ff3a27f62bf018c93a6" name="a6a79faabbc906ff3a27f62bf018c93a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a79faabbc906ff3a27f62bf018c93a6">&#9670;&#160;</a></span>bmp2_get_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_get_regs </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>reg_addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>reg_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the data from the given register address of the sensor. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00256">256</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  256</span>                                                                                              {</div>
<div class="line"><span class="lineno">  257</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  rslt = null_ptr_check(dev);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>  <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) &amp;&amp; (reg_data != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">/* Mask the register address&#39; MSB if interface selected is SPI */</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a88ab5520ee4c21889cfc221d676966e7">intf</a> == <a class="code hl_enumvalue" href="bmp2__defs_8h.html#a33ce0fe5520792ab05c5db3a908d148ca0e9229e562a5e487b1f16ffa82b105c7">BMP2_SPI_INTF</a>) {</div>
<div class="line"><span class="lineno">  264</span>      reg_addr = reg_addr | <a class="code hl_define" href="bmp2__defs_8h.html#a24b6430e3f3551a9833ca704a0cb858f">BMP2_SPI_RD_MASK</a>;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a523957fbd1f04e7d8eed60debf0f1eb8">intf_rslt</a> = dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#ad412f5f43cbf322bfe6b7db00f551eb4">read</a>(reg_addr, reg_data, len, dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a0f8f25ad3939886263e8c995db718d64">intf_ptr</a>);</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>    <span class="comment">/* Check for communication error and mask with an internal error code */</span></div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a523957fbd1f04e7d8eed60debf0f1eb8">intf_rslt</a> != <a class="code hl_define" href="bmp2__defs_8h.html#a1ea33f272fb2354f555a87ffed42e2d0">BMP2_INTF_RET_SUCCESS</a>) {</div>
<div class="line"><span class="lineno">  271</span>      rslt = <a class="code hl_define" href="bmp2__defs_8h.html#afb71eac2b00b14d03db2bd206fb085fc">BMP2_E_COM_FAIL</a>;</div>
<div class="line"><span class="lineno">  272</span>    }</div>
<div class="line"><span class="lineno">  273</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  274</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  275</span>  }</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  278</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_a1ea33f272fb2354f555a87ffed42e2d0"><div class="ttname"><a href="bmp2__defs_8h.html#a1ea33f272fb2354f555a87ffed42e2d0">BMP2_INTF_RET_SUCCESS</a></div><div class="ttdeci">#define BMP2_INTF_RET_SUCCESS</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00378">bmp2_defs.h:378</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a24b6430e3f3551a9833ca704a0cb858f"><div class="ttname"><a href="bmp2__defs_8h.html#a24b6430e3f3551a9833ca704a0cb858f">BMP2_SPI_RD_MASK</a></div><div class="ttdeci">#define BMP2_SPI_RD_MASK</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00184">bmp2_defs.h:184</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a33ce0fe5520792ab05c5db3a908d148ca0e9229e562a5e487b1f16ffa82b105c7"><div class="ttname"><a href="bmp2__defs_8h.html#a33ce0fe5520792ab05c5db3a908d148ca0e9229e562a5e487b1f16ffa82b105c7">BMP2_SPI_INTF</a></div><div class="ttdeci">@ BMP2_SPI_INTF</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00434">bmp2_defs.h:434</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_afb71eac2b00b14d03db2bd206fb085fc"><div class="ttname"><a href="bmp2__defs_8h.html#afb71eac2b00b14d03db2bd206fb085fc">BMP2_E_COM_FAIL</a></div><div class="ttdeci">#define BMP2_E_COM_FAIL</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00124">bmp2_defs.h:124</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a0f8f25ad3939886263e8c995db718d64"><div class="ttname"><a href="structbmp2__dev.html#a0f8f25ad3939886263e8c995db718d64">bmp2_dev::intf_ptr</a></div><div class="ttdeci">void * intf_ptr</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00576">bmp2_defs.h:576</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a523957fbd1f04e7d8eed60debf0f1eb8"><div class="ttname"><a href="structbmp2__dev.html#a523957fbd1f04e7d8eed60debf0f1eb8">bmp2_dev::intf_rslt</a></div><div class="ttdeci">BMP2_INTF_RET_TYPE intf_rslt</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00579">bmp2_defs.h:579</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a88ab5520ee4c21889cfc221d676966e7"><div class="ttname"><a href="structbmp2__dev.html#a88ab5520ee4c21889cfc221d676966e7">bmp2_dev::intf</a></div><div class="ttdeci">enum bmp2_intf intf</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00568">bmp2_defs.h:568</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_ad412f5f43cbf322bfe6b7db00f551eb4"><div class="ttname"><a href="structbmp2__dev.html#ad412f5f43cbf322bfe6b7db00f551eb4">bmp2_dev::read</a></div><div class="ttdeci">bmp2_read_fptr_t read</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00582">bmp2_defs.h:582</a></div></div>
</div><!-- fragment --><div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a6a79faabbc906ff3a27f62bf018c93a6_icgraph.png" border="0" usemap="#abmp2_8h_a6a79faabbc906ff3a27f62bf018c93a6_icgraph" alt=""/></div>
<map name="abmp2_8h_a6a79faabbc906ff3a27f62bf018c93a6_icgraph" id="abmp2_8h_a6a79faabbc906ff3a27f62bf018c93a6_icgraph">
<area shape="rect" title="This API reads the data from the given register address of the sensor." alt="" coords="338,107,448,133"/>
<area shape="rect" href="bmp2_8c.html#a73193f9bbf43c9382387ee2f015ec249" title="This API reads the data from the ctrl_meas register and config register. It gives the currently set t..." alt="" coords="151,5,271,32"/>
<area shape="poly" title=" " alt="" coords="363,98,329,71,289,46,262,35,264,30,291,42,332,67,367,94"/>
<area shape="rect" href="bmp2_8c.html#afe41fceea8a9ab4f6e42cecc4aaf1012" title="This API reads the power mode." alt="" coords="132,56,290,83"/>
<area shape="poly" title=" " alt="" coords="327,104,261,86,262,81,328,99"/>
<area shape="rect" href="bmp2_8c.html#ae2d2b6da40da3fa026f1bbb35fc03af8" title="This API reads the pressure and temperature data from the sensor, compensates the data and store it i..." alt="" coords="133,157,289,184"/>
<area shape="poly" title=" " alt="" coords="328,141,262,159,261,154,327,136"/>
<area shape="rect" href="bmp2_8c.html#ad63ef55fdf01fdcaa8fffebbc6976b7a" title="This API reads the status register." alt="" coords="150,208,272,235"/>
<area shape="poly" title=" " alt="" coords="367,146,332,173,291,198,264,210,262,205,289,194,329,169,363,142"/>
<area shape="rect" href="bmp2_8c.html#a6d7f2b136c16014c6564a78e24507c81" title="This API is the entry point. It reads the chip&#45;id and calibration data from the sensor." alt="" coords="172,107,250,133"/>
<area shape="poly" title=" " alt="" coords="322,123,250,123,250,117,322,117"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#ad8891d2db76c9957ba85df5220de463a" title="Initializes and configures sensor." alt="" coords="9,95,80,121"/>
<area shape="poly" title=" " alt="" coords="146,40,133,46,94,71,63,96,60,92,91,67,130,42,143,36"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#a9e90f5cde057a32a982156e59815475a" title="Reads temperature/pressure data." alt="" coords="5,171,84,197"/>
<area shape="poly" title=" " alt="" coords="118,181,84,184,84,178,117,175"/>
<area shape="poly" title=" " alt="" coords="135,207,84,195,85,190,136,202"/>
<area shape="poly" title=" " alt="" coords="156,119,80,113,80,108,156,113"/>
</map>
</div>

</div>
</div>
<a id="ae2d2b6da40da3fa026f1bbb35fc03af8" name="ae2d2b6da40da3fa026f1bbb35fc03af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d2b6da40da3fa026f1bbb35fc03af8">&#9670;&#160;</a></span>bmp2_get_sensor_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_get_sensor_data </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp2__data.html">bmp2_data</a> *</td>          <td class="paramname"><span class="paramname"><em>comp_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the pressure and temperature data from the sensor, compensates the data and store it in the <a class="el" href="structbmp2__data.html" title="bmp2 sensor structure which comprises of temperature and pressure">bmp2_data</a> structure instance passed by the user. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00443">443</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>                                                                               {</div>
<div class="line"><span class="lineno">  444</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  445</span>  uint8_t temp[<a class="code hl_define" href="bmp2__defs_8h.html#a653d78afba7c463595ba8545949b8806">BMP2_P_T_LEN</a>] = {0};</div>
<div class="line"><span class="lineno">  446</span>  <span class="keyword">struct </span><a class="code hl_struct" href="structbmp2__uncomp__data.html">bmp2_uncomp_data</a> uncomp_data = {0};</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>  <span class="keywordflow">if</span> (comp_data != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  449</span>    rslt = <a class="code hl_function" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a>(<a class="code hl_define" href="bmp2__defs_8h.html#add4560264015a474dbe73c95dc37f41d">BMP2_REG_PRES_MSB</a>, temp, <a class="code hl_define" href="bmp2__defs_8h.html#a653d78afba7c463595ba8545949b8806">BMP2_P_T_LEN</a>, dev);</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  452</span>      <span class="comment">/* Parse the read data from the sensor */</span></div>
<div class="line"><span class="lineno">  453</span>      rslt = parse_sensor_data(temp, &amp;uncomp_data);</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>      <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  456</span>        <span class="comment">/* Compensate the pressure and/or temperature</span></div>
<div class="line"><span class="lineno">  457</span><span class="comment">         * data from the sensor</span></div>
<div class="line"><span class="lineno">  458</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  459</span>        rslt = <a class="code hl_function" href="bmp2_8c.html#aa0a148cc2a4a3d802ad43c969aa6d058">bmp2_compensate_data</a>(&amp;uncomp_data, comp_data, dev);</div>
<div class="line"><span class="lineno">  460</span>      }</div>
<div class="line"><span class="lineno">  461</span>    }</div>
<div class="line"><span class="lineno">  462</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  463</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  464</span>  }</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  467</span>}</div>
<div class="ttc" id="abmp2_8c_html_aa0a148cc2a4a3d802ad43c969aa6d058"><div class="ttname"><a href="bmp2_8c.html#aa0a148cc2a4a3d802ad43c969aa6d058">bmp2_compensate_data</a></div><div class="ttdeci">int8_t bmp2_compensate_data(const struct bmp2_uncomp_data *uncomp_data, struct bmp2_data *comp_data, struct bmp2_dev *dev)</div><div class="ttdoc">This API is used to compensate the pressure and temperature data.</div><div class="ttdef"><b>Definição</b> <a href="bmp2_8c_source.html#l00473">bmp2.c:473</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a653d78afba7c463595ba8545949b8806"><div class="ttname"><a href="bmp2__defs_8h.html#a653d78afba7c463595ba8545949b8806">BMP2_P_T_LEN</a></div><div class="ttdeci">#define BMP2_P_T_LEN</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00202">bmp2_defs.h:202</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_add4560264015a474dbe73c95dc37f41d"><div class="ttname"><a href="bmp2__defs_8h.html#add4560264015a474dbe73c95dc37f41d">BMP2_REG_PRES_MSB</a></div><div class="ttdeci">#define BMP2_REG_PRES_MSB</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00150">bmp2_defs.h:150</a></div></div>
<div class="ttc" id="astructbmp2__uncomp__data_html"><div class="ttname"><a href="structbmp2__uncomp__data.html">bmp2_uncomp_data</a></div><div class="ttdoc">Uncompensated data structure.</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00531">bmp2_defs.h:531</a></div></div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_cgraph.png" border="0" usemap="#abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_cgraph" alt=""/></div>
<map name="abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_cgraph" id="abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_cgraph">
<area shape="rect" title="This API reads the pressure and temperature data from the sensor, compensates the data and store it i..." alt="" coords="5,31,162,57"/>
<area shape="rect" href="bmp2_8c.html#aa0a148cc2a4a3d802ad43c969aa6d058" title="This API is used to compensate the pressure and temperature data." alt="" coords="210,5,373,32"/>
<area shape="poly" title=" " alt="" coords="161,32,194,28,194,33,162,37"/>
<area shape="rect" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6" title="This API reads the data from the given register address of the sensor." alt="" coords="236,56,347,83"/>
<area shape="poly" title=" " alt="" coords="162,51,221,58,221,63,161,56"/>
</map>
</div>
<div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_icgraph.png" border="0" usemap="#abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_icgraph" alt=""/></div>
<map name="abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_icgraph" id="abmp2_8h_ae2d2b6da40da3fa026f1bbb35fc03af8_icgraph">
<area shape="rect" title="This API reads the pressure and temperature data from the sensor, compensates the data and store it i..." alt="" coords="132,5,288,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#a9e90f5cde057a32a982156e59815475a" title="Reads temperature/pressure data." alt="" coords="5,5,84,32"/>
<area shape="poly" title=" " alt="" coords="116,21,84,21,84,16,116,16"/>
</map>
</div>

</div>
</div>
<a id="ad63ef55fdf01fdcaa8fffebbc6976b7a" name="ad63ef55fdf01fdcaa8fffebbc6976b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63ef55fdf01fdcaa8fffebbc6976b7a">&#9670;&#160;</a></span>bmp2_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_get_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp2__status.html">bmp2_status</a> *</td>          <td class="paramname"><span class="paramname"><em>status</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API reads the status register. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00390">390</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>                                                                         {</div>
<div class="line"><span class="lineno">  391</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  392</span>  uint8_t temp;</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>  <span class="keywordflow">if</span> (status != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  395</span>    rslt = <a class="code hl_function" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a>(<a class="code hl_define" href="bmp2__defs_8h.html#a81ef8857896b7ab96ddc0bdc1571c3d1">BMP2_REG_STATUS</a>, &amp;temp, 1, dev);</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  398</span>      status-&gt;<a class="code hl_variable" href="structbmp2__status.html#a8106f2f3dbf34d5297a417bb79be9d9e">measuring</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a2bd98c12ad5c99b51859e6f71261b950">BMP2_GET_BITS</a>(temp, BMP2_STATUS_MEAS);</div>
<div class="line"><span class="lineno">  399</span>      status-&gt;<a class="code hl_variable" href="structbmp2__status.html#ae9d6738a7d7b16166d97ec6026a0c688">im_update</a> = <a class="code hl_define" href="bmp2__defs_8h.html#a67f98d13bf08de0024189766d758bb8a">BMP2_GET_BITS_POS_0</a>(temp, BMP2_STATUS_IM_UPDATE);</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  402</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  403</span>  }</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  406</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_a81ef8857896b7ab96ddc0bdc1571c3d1"><div class="ttname"><a href="bmp2__defs_8h.html#a81ef8857896b7ab96ddc0bdc1571c3d1">BMP2_REG_STATUS</a></div><div class="ttdeci">#define BMP2_REG_STATUS</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00147">bmp2_defs.h:147</a></div></div>
<div class="ttc" id="astructbmp2__status_html_a8106f2f3dbf34d5297a417bb79be9d9e"><div class="ttname"><a href="structbmp2__status.html#a8106f2f3dbf34d5297a417bb79be9d9e">bmp2_status::measuring</a></div><div class="ttdeci">uint8_t measuring</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00522">bmp2_defs.h:522</a></div></div>
<div class="ttc" id="astructbmp2__status_html_ae9d6738a7d7b16166d97ec6026a0c688"><div class="ttname"><a href="structbmp2__status.html#ae9d6738a7d7b16166d97ec6026a0c688">bmp2_status::im_update</a></div><div class="ttdeci">uint8_t im_update</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00525">bmp2_defs.h:525</a></div></div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_cgraph.png" border="0" usemap="#abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_cgraph" alt=""/></div>
<map name="abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_cgraph" id="abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_cgraph">
<area shape="rect" title="This API reads the status register." alt="" coords="5,5,127,32"/>
<area shape="rect" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6" title="This API reads the data from the given register address of the sensor." alt="" coords="175,5,285,32"/>
<area shape="poly" title=" " alt="" coords="127,16,159,16,159,21,127,21"/>
</map>
</div>
<div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_icgraph.png" border="0" usemap="#abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_icgraph" alt=""/></div>
<map name="abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_icgraph" id="abmp2_8h_ad63ef55fdf01fdcaa8fffebbc6976b7a_icgraph">
<area shape="rect" title="This API reads the status register." alt="" coords="132,5,253,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#a9e90f5cde057a32a982156e59815475a" title="Reads temperature/pressure data." alt="" coords="5,5,84,32"/>
<area shape="poly" title=" " alt="" coords="116,21,84,21,84,16,116,16"/>
</map>
</div>

</div>
</div>
<a id="a6d7f2b136c16014c6564a78e24507c81" name="a6d7f2b136c16014c6564a78e24507c81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d7f2b136c16014c6564a78e24507c81">&#9670;&#160;</a></span>bmp2_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API is the entry point. It reads the chip-id and calibration data from the sensor. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00231">231</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>                                       {</div>
<div class="line"><span class="lineno">  232</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>  rslt = null_ptr_check(dev);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  237</span>    rslt = <a class="code hl_function" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6">bmp2_get_regs</a>(<a class="code hl_define" href="bmp2__defs_8h.html#a0cc4d115221273d8dd8ce6358129ddcb">BMP2_REG_CHIP_ID</a>, &amp;dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a88e300db221e7a0382f2a4c289b9557d">chip_id</a>, 1, dev);</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="comment">/* Check for chip id validity */</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">if</span> (rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) {</div>
<div class="line"><span class="lineno">  241</span>      <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a88e300db221e7a0382f2a4c289b9557d">chip_id</a> == <a class="code hl_define" href="bmp2__defs_8h.html#a708c9795ba85e94521bf6aa6dacda561">BMP2_CHIP_ID</a>) {</div>
<div class="line"><span class="lineno">  242</span>        rslt = get_calib_param(dev);</div>
<div class="line"><span class="lineno">  243</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  244</span>        rslt = <a class="code hl_define" href="bmp2__defs_8h.html#ac23a04d006b6a272f699e8774f7a592e">BMP2_E_DEV_NOT_FOUND</a>;</div>
<div class="line"><span class="lineno">  245</span>      }</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span>  }</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  250</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_a0cc4d115221273d8dd8ce6358129ddcb"><div class="ttname"><a href="bmp2__defs_8h.html#a0cc4d115221273d8dd8ce6358129ddcb">BMP2_REG_CHIP_ID</a></div><div class="ttdeci">#define BMP2_REG_CHIP_ID</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00145">bmp2_defs.h:145</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a708c9795ba85e94521bf6aa6dacda561"><div class="ttname"><a href="bmp2__defs_8h.html#a708c9795ba85e94521bf6aa6dacda561">BMP2_CHIP_ID</a></div><div class="ttdeci">#define BMP2_CHIP_ID</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00138">bmp2_defs.h:138</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_ac23a04d006b6a272f699e8774f7a592e"><div class="ttname"><a href="bmp2__defs_8h.html#ac23a04d006b6a272f699e8774f7a592e">BMP2_E_DEV_NOT_FOUND</a></div><div class="ttdeci">#define BMP2_E_DEV_NOT_FOUND</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00126">bmp2_defs.h:126</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a88e300db221e7a0382f2a4c289b9557d"><div class="ttname"><a href="structbmp2__dev.html#a88e300db221e7a0382f2a4c289b9557d">bmp2_dev::chip_id</a></div><div class="ttdeci">uint8_t chip_id</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00565">bmp2_defs.h:565</a></div></div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a6d7f2b136c16014c6564a78e24507c81_cgraph.png" border="0" usemap="#abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_cgraph" alt=""/></div>
<map name="abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_cgraph" id="abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_cgraph">
<area shape="rect" title="This API is the entry point. It reads the chip&#45;id and calibration data from the sensor." alt="" coords="5,5,83,32"/>
<area shape="rect" href="bmp2_8c.html#a6a79faabbc906ff3a27f62bf018c93a6" title="This API reads the data from the given register address of the sensor." alt="" coords="131,5,241,32"/>
<area shape="poly" title=" " alt="" coords="83,16,115,16,115,21,83,21"/>
</map>
</div>
<div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a6d7f2b136c16014c6564a78e24507c81_icgraph.png" border="0" usemap="#abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_icgraph" alt=""/></div>
<map name="abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_icgraph" id="abmp2_8h_a6d7f2b136c16014c6564a78e24507c81_icgraph">
<area shape="rect" title="This API is the entry point. It reads the chip&#45;id and calibration data from the sensor." alt="" coords="124,5,201,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#ad8891d2db76c9957ba85df5220de463a" title="Initializes and configures sensor." alt="" coords="5,5,76,32"/>
<area shape="poly" title=" " alt="" coords="108,21,76,21,76,16,108,16"/>
</map>
</div>

</div>
</div>
<a id="a410c83987393aa02d637aaef7c0e9f04" name="a410c83987393aa02d637aaef7c0e9f04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410c83987393aa02d637aaef7c0e9f04">&#9670;&#160;</a></span>bmp2_set_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_set_config </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *</td>          <td class="paramname"><span class="paramname"><em>conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API writes the data to the ctrl_meas register and config register. It sets the over-sampling mode, power mode configuration, sleep duration and IIR filter coefficient. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00383">383</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                                                                             {</div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordflow">return</span> conf_sensor(<a class="code hl_define" href="bmp2__defs_8h.html#a4d423717a6399ce55906a57243494c50">BMP2_POWERMODE_SLEEP</a>, conf, dev);</div>
<div class="line"><span class="lineno">  385</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_a4d423717a6399ce55906a57243494c50"><div class="ttname"><a href="bmp2__defs_8h.html#a4d423717a6399ce55906a57243494c50">BMP2_POWERMODE_SLEEP</a></div><div class="ttdeci">#define BMP2_POWERMODE_SLEEP</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00191">bmp2_defs.h:191</a></div></div>
</div><!-- fragment --><div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a410c83987393aa02d637aaef7c0e9f04_icgraph.png" border="0" usemap="#abmp2_8h_a410c83987393aa02d637aaef7c0e9f04_icgraph" alt=""/></div>
<map name="abmp2_8h_a410c83987393aa02d637aaef7c0e9f04_icgraph" id="abmp2_8h_a410c83987393aa02d637aaef7c0e9f04_icgraph">
<area shape="rect" title="This API writes the data to the ctrl_meas register and config register. It sets the over&#45;sampling mod..." alt="" coords="124,5,243,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#ad8891d2db76c9957ba85df5220de463a" title="Initializes and configures sensor." alt="" coords="5,5,76,32"/>
<area shape="poly" title=" " alt="" coords="108,21,76,21,76,16,108,16"/>
</map>
</div>

</div>
</div>
<a id="a2e04b1769da340a54f01747f003a9e8a" name="a2e04b1769da340a54f01747f003a9e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e04b1769da340a54f01747f003a9e8a">&#9670;&#160;</a></span>bmp2_set_power_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_set_power_mode </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>mode</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structbmp2__config.html">bmp2_config</a> *</td>          <td class="paramname"><span class="paramname"><em>conf</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API writes the power mode. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00430">430</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  430</span>                                                                                               {</div>
<div class="line"><span class="lineno">  431</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  rslt = conf_sensor(mode, conf, dev);</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  436</span>}</div>
</div><!-- fragment --><div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a2e04b1769da340a54f01747f003a9e8a_icgraph.png" border="0" usemap="#abmp2_8h_a2e04b1769da340a54f01747f003a9e8a_icgraph" alt=""/></div>
<map name="abmp2_8h_a2e04b1769da340a54f01747f003a9e8a_icgraph" id="abmp2_8h_a2e04b1769da340a54f01747f003a9e8a_icgraph">
<area shape="rect" title="This API writes the power mode." alt="" coords="124,5,282,32"/>
<area shape="rect" href="utils_2_b_m_p280_2common_2common_8c.html#ad8891d2db76c9957ba85df5220de463a" title="Initializes and configures sensor." alt="" coords="5,5,76,32"/>
<area shape="poly" title=" " alt="" coords="108,21,76,21,76,16,108,16"/>
</map>
</div>

</div>
</div>
<a id="aef548c2009f0c29393974818a31bdc13" name="aef548c2009f0c29393974818a31bdc13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef548c2009f0c29393974818a31bdc13">&#9670;&#160;</a></span>bmp2_set_regs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_set_regs </td>
          <td>(</td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>reg_addr</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *</td>          <td class="paramname"><span class="paramname"><em>reg_data</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API writes the given data to the register addresses of the sensor. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00284">284</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  287</span>                                           {</div>
<div class="line"><span class="lineno">  288</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  289</span>  uint8_t temp_buff[8]; <span class="comment">/* Typically not to write more than 4 registers */</span></div>
<div class="line"><span class="lineno">  290</span>  uint32_t temp_len;</div>
<div class="line"><span class="lineno">  291</span>  uint8_t reg_addr_cnt;</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>  <span class="keywordflow">if</span> (len &gt; <a class="code hl_define" href="bmp2__defs_8h.html#a5ad2de4fa3b02ba7333d0b3f7e0e3513">BMP2_MAX_LEN</a>) {</div>
<div class="line"><span class="lineno">  294</span>    len = <a class="code hl_define" href="bmp2__defs_8h.html#a5ad2de4fa3b02ba7333d0b3f7e0e3513">BMP2_MAX_LEN</a>;</div>
<div class="line"><span class="lineno">  295</span>  }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>  rslt = null_ptr_check(dev);</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">if</span> ((rslt == <a class="code hl_define" href="bmp2__defs_8h.html#af6d26f836d5010516682b14bac55f8c3">BMP2_OK</a>) &amp;&amp; (reg_addr != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (reg_data != <a class="code hl_define" href="bme2__defs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><span class="lineno">  300</span>    <span class="keywordflow">if</span> (len &gt; 0) {</div>
<div class="line"><span class="lineno">  301</span>      temp_buff[0] = reg_data[0];</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>      <span class="comment">/* Mask the register address&#39; MSB if interface selected is SPI */</span></div>
<div class="line"><span class="lineno">  304</span>      <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a88ab5520ee4c21889cfc221d676966e7">intf</a> == <a class="code hl_enumvalue" href="bmp2__defs_8h.html#a33ce0fe5520792ab05c5db3a908d148ca0e9229e562a5e487b1f16ffa82b105c7">BMP2_SPI_INTF</a>) {</div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">/* Converting all the reg address into proper SPI write address</span></div>
<div class="line"><span class="lineno">  306</span><span class="comment">         * i.e making MSB(R/`W) bit 0</span></div>
<div class="line"><span class="lineno">  307</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordflow">for</span> (reg_addr_cnt = 0; reg_addr_cnt &lt; len; reg_addr_cnt++) {</div>
<div class="line"><span class="lineno">  309</span>          reg_addr[reg_addr_cnt] = reg_addr[reg_addr_cnt] &amp; <a class="code hl_define" href="bmp2__defs_8h.html#a3c2a7a6f69c73127737a353f26783e34">BMP2_SPI_WR_MASK</a>;</div>
<div class="line"><span class="lineno">  310</span>        }</div>
<div class="line"><span class="lineno">  311</span>      }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>      <span class="comment">/* Burst write mode */</span></div>
<div class="line"><span class="lineno">  314</span>      <span class="keywordflow">if</span> (len &gt; 1) {</div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">/* Interleave register address w.r.t data for burst write */</span></div>
<div class="line"><span class="lineno">  316</span>        interleave_data(reg_addr, temp_buff, reg_data, len);</div>
<div class="line"><span class="lineno">  317</span>        temp_len = ((len * 2) - 1);</div>
<div class="line"><span class="lineno">  318</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>        temp_len = len;</div>
<div class="line"><span class="lineno">  320</span>      }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>      dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a523957fbd1f04e7d8eed60debf0f1eb8">intf_rslt</a> = dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a6c63268ea13ae09b3e2edd8a4c702dbc">write</a>(reg_addr[0], temp_buff, temp_len, dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a0f8f25ad3939886263e8c995db718d64">intf_ptr</a>);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>      <span class="comment">/* Check for communication error and mask with an internal error code */</span></div>
<div class="line"><span class="lineno">  325</span>      <span class="keywordflow">if</span> (dev-&gt;<a class="code hl_variable" href="structbmp2__dev.html#a523957fbd1f04e7d8eed60debf0f1eb8">intf_rslt</a> != <a class="code hl_define" href="bmp2__defs_8h.html#a1ea33f272fb2354f555a87ffed42e2d0">BMP2_INTF_RET_SUCCESS</a>) {</div>
<div class="line"><span class="lineno">  326</span>        rslt = <a class="code hl_define" href="bmp2__defs_8h.html#afb71eac2b00b14d03db2bd206fb085fc">BMP2_E_COM_FAIL</a>;</div>
<div class="line"><span class="lineno">  327</span>      }</div>
<div class="line"><span class="lineno">  328</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  329</span>      rslt = <a class="code hl_define" href="bmp2__defs_8h.html#aed2312087c1dcc06b435c563d52e29f5">BMP2_E_INVALID_LEN</a>;</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  332</span>    rslt = <a class="code hl_define" href="bmp2__defs_8h.html#a3a5360bdbcc875416df344adc9743403">BMP2_E_NULL_PTR</a>;</div>
<div class="line"><span class="lineno">  333</span>  }</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  336</span>}</div>
<div class="ttc" id="abmp2__defs_8h_html_a3c2a7a6f69c73127737a353f26783e34"><div class="ttname"><a href="bmp2__defs_8h.html#a3c2a7a6f69c73127737a353f26783e34">BMP2_SPI_WR_MASK</a></div><div class="ttdeci">#define BMP2_SPI_WR_MASK</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00185">bmp2_defs.h:185</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a5ad2de4fa3b02ba7333d0b3f7e0e3513"><div class="ttname"><a href="bmp2__defs_8h.html#a5ad2de4fa3b02ba7333d0b3f7e0e3513">BMP2_MAX_LEN</a></div><div class="ttdeci">#define BMP2_MAX_LEN</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00116">bmp2_defs.h:116</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_aed2312087c1dcc06b435c563d52e29f5"><div class="ttname"><a href="bmp2__defs_8h.html#aed2312087c1dcc06b435c563d52e29f5">BMP2_E_INVALID_LEN</a></div><div class="ttdeci">#define BMP2_E_INVALID_LEN</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00125">bmp2_defs.h:125</a></div></div>
<div class="ttc" id="astructbmp2__dev_html_a6c63268ea13ae09b3e2edd8a4c702dbc"><div class="ttname"><a href="structbmp2__dev.html#a6c63268ea13ae09b3e2edd8a4c702dbc">bmp2_dev::write</a></div><div class="ttdeci">bmp2_write_fptr_t write</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00585">bmp2_defs.h:585</a></div></div>
</div><!-- fragment --><div class="dynheader">
Esse é o diagrama das funções que utilizam essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_aef548c2009f0c29393974818a31bdc13_icgraph.png" border="0" usemap="#abmp2_8h_aef548c2009f0c29393974818a31bdc13_icgraph" alt=""/></div>
<map name="abmp2_8h_aef548c2009f0c29393974818a31bdc13_icgraph" id="abmp2_8h_aef548c2009f0c29393974818a31bdc13_icgraph">
<area shape="rect" title="This API writes the given data to the register addresses of the sensor." alt="" coords="171,5,281,32"/>
<area shape="rect" href="bmp2_8c.html#a32b46067751d5b85c9003d934540aff3" title="This API triggers the soft&#45;reset of the sensor." alt="" coords="5,5,123,32"/>
<area shape="poly" title=" " alt="" coords="155,21,123,21,123,16,155,16"/>
</map>
</div>

</div>
</div>
<a id="a32b46067751d5b85c9003d934540aff3" name="a32b46067751d5b85c9003d934540aff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b46067751d5b85c9003d934540aff3">&#9670;&#160;</a></span>bmp2_soft_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t bmp2_soft_reset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structbmp2__dev.html">bmp2_dev</a> *</td>          <td class="paramname"><span class="paramname"><em>dev</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This API triggers the soft-reset of the sensor. </p>

<p class="definition">Definição na linha <a class="el" href="bmp2_8c_source.html#l00341">341</a> do arquivo <a class="el" href="bmp2_8c_source.html">bmp2.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  341</span>                                             {</div>
<div class="line"><span class="lineno">  342</span>  int8_t rslt;</div>
<div class="line"><span class="lineno">  343</span>  uint8_t reg_addr = <a class="code hl_define" href="bmp2__defs_8h.html#a82fb5f5e99aef89c6b10cebc5d190229">BMP2_REG_SOFT_RESET</a>;</div>
<div class="line"><span class="lineno">  344</span>  uint8_t soft_rst_cmd = <a class="code hl_define" href="bmp2__defs_8h.html#a3d436e05b2fa902093436b7041f3cc75">BMP2_SOFT_RESET_CMD</a>;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>  rslt = <a class="code hl_function" href="bmp2_8c.html#aef548c2009f0c29393974818a31bdc13">bmp2_set_regs</a>(&amp;reg_addr, &amp;soft_rst_cmd, 1, dev);</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>  <span class="keywordflow">return</span> rslt;</div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="abmp2_8c_html_aef548c2009f0c29393974818a31bdc13"><div class="ttname"><a href="bmp2_8c.html#aef548c2009f0c29393974818a31bdc13">bmp2_set_regs</a></div><div class="ttdeci">int8_t bmp2_set_regs(uint8_t *reg_addr, const uint8_t *reg_data, uint32_t len, struct bmp2_dev *dev)</div><div class="ttdoc">This API writes the given data to the register addresses of the sensor.</div><div class="ttdef"><b>Definição</b> <a href="bmp2_8c_source.html#l00284">bmp2.c:284</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a3d436e05b2fa902093436b7041f3cc75"><div class="ttname"><a href="bmp2__defs_8h.html#a3d436e05b2fa902093436b7041f3cc75">BMP2_SOFT_RESET_CMD</a></div><div class="ttdeci">#define BMP2_SOFT_RESET_CMD</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00199">bmp2_defs.h:199</a></div></div>
<div class="ttc" id="abmp2__defs_8h_html_a82fb5f5e99aef89c6b10cebc5d190229"><div class="ttname"><a href="bmp2__defs_8h.html#a82fb5f5e99aef89c6b10cebc5d190229">BMP2_REG_SOFT_RESET</a></div><div class="ttdeci">#define BMP2_REG_SOFT_RESET</div><div class="ttdef"><b>Definição</b> <a href="bmp2__defs_8h_source.html#l00146">bmp2_defs.h:146</a></div></div>
</div><!-- fragment --><div class="dynheader">
Este é o diagrama das funções utilizadas por essa função:</div>
<div class="dyncontent">
<div class="center"><img src="bmp2_8h_a32b46067751d5b85c9003d934540aff3_cgraph.png" border="0" usemap="#abmp2_8h_a32b46067751d5b85c9003d934540aff3_cgraph" alt=""/></div>
<map name="abmp2_8h_a32b46067751d5b85c9003d934540aff3_cgraph" id="abmp2_8h_a32b46067751d5b85c9003d934540aff3_cgraph">
<area shape="rect" title="This API triggers the soft&#45;reset of the sensor." alt="" coords="5,5,123,32"/>
<area shape="rect" href="bmp2_8c.html#aef548c2009f0c29393974818a31bdc13" title="This API writes the given data to the register addresses of the sensor." alt="" coords="171,5,281,32"/>
<area shape="poly" title=" " alt="" coords="123,16,155,16,155,21,123,21"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Gerado por&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
